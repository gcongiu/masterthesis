% Myoptions

\ProvidesPackage{mypref}
\NeedsTeXFormat{LaTeX2e}
\hypersetup{
	pdftitle={Design and Evaluation of Guided I/O Infrastructures in High Performance Computing Middlewares},
	pdfauthor={Giuseppe Congiu},
	pdfsubject={System Storage},
	pdfkeywords={Guided I/O},
	colorlinks=true,
	anchorcolor=black,
	menucolor=black,
	runcolor=black,
	urlcolor=black,
	linkcolor=black, 
	citecolor=black, 
	filecolor=black,
}

\lstset{
	language=C,
	basicstyle=\small, % print whole listing small
	numbers=left,
	frame=shadowbox,
	fancyvrb=true,
	frame=single,
	keywordstyle=\color{blue},
}

\makeatletter
\newlength\dlf@normtxtw
\setlength\dlf@normtxtw{\textwidth}
\def\myhelvetfont{\def\sfdefault{mdput}}
\newsavebox{\feline@chapter}

\newcommand\feline@chapter@marker[1][4cm]{%
\sbox\feline@chapter{%
\resizebox{!}{#1}{\fboxsep=1pt%
\colorbox{black}{\color{white}\bfseries\sffamily\thechapter}%
}}%
\rotatebox{90}{%
\resizebox{%
\heightof{\usebox{\feline@chapter}}+\depthof{\usebox{\feline@chapter}}}%
{!}{\scshape\so\@chapapp}}\quad%
\raisebox{\depthof{\usebox{\feline@chapter}}}{\usebox{\feline@chapter}}%
}

\newcommand\feline@chm[1][4cm]{%
\sbox\feline@chapter{\feline@chapter@marker[#1]}%
\makebox[0pt][l]{% aka \rlap
\makebox[1cm][r]{\usebox\feline@chapter}%
}}

\makechapterstyle{daleif1}{
\renewcommand\chapnamefont{\normalfont\Large\scshape\raggedleft\so}
\renewcommand\chaptitlefont{\normalfont\huge\bfseries\scshape\color{black}}
\renewcommand\chapternamenum{}
\renewcommand\printchaptername{}
\renewcommand\printchapternum{\null\hfill\feline@chm[2.5cm]\par}
\renewcommand\afterchapternum{\par\vskip\midchapskip}
\renewcommand\printchaptertitle[1]{\chaptitlefont\raggedleft ##1\par}
}

\makeatother

%Miscellany   
%\pagestyle{myheadings}

%\pagestyle{ruled}
\pagestyle{companion}

\chapterstyle{daleif1}
%\chapterstyle{veelo}
%\chapterstyle{madsen}

\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\newcommand{\initials}[1]{\mbox{\textsc{\MakeLowercase{#1}}}}

\newcommand{\papcad}{\initials{PapCAD}}

%\definecolor{sfondo_sorgente}{rgb}{0.95,0.95,0.95}
%\definecolor{myblue}{rgb}{0,0,1}
%\definecolor{mygreen}{rgb}{0,0.6,0}
%\definecolor{mykey}{rgb}{0.7,0.4,0}
%\definecolor{stringa}{rgb}{1,0.4,0}
%\renewcommand{\lstlistingname}{Listato}
%\lstset{
% language=C,
% basicstyle=\small\ttfamily,
% keywordstyle=\color{myblue}\small\ttfamily,
% emphstyle=\color{black}\small\bfseries\sffamily,
% emph={[2] finish, monitor, time},
% emphstyle={[2]\color{mykey}\small\ttfamily},
% emph={[3] timescale},
% emphstyle={[3]\color{stringa}\small\ttfamily},
% emphstyle={[5]\color{myblue}\small\ttfamily},
% stringstyle=\ttfamily,
% showstringspaces=false,
% captionpos=b,
% belowcaptionskip=10pt,
% columns=flexible,
% aboveskip=10pt,
% backgroundcolor=\color{sfondo_sorgente},
% frame=single,
% framerule=0pt, 
% tabsize=4,
% framexleftmargin=1mm,
% framexrightmargin=1mm,
% commentstyle=\color{mygreen}\ttfamily,
% extendedchars=true
%}
\midsloppy

\captionnamefont{\scshape\bfseries}
\captiontitlefont{\scshape}
